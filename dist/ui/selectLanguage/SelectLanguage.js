import e from"../spinner/Spinner.js";import a from"../../utils/classNames.js";import t,{useState as s,useEffect as n}from"react";import l from"./selectLanguage.module.scss.js";const r=({label:r,size:c="md",name:o,disabled:i,error:m,helpText:p,value:d,loaderColor:_,onSelect:u,onBlur:g,onFocus:f})=>{const[v,y]=s(!1),[N,h]=s([]),[E,b]=s("");return n((()=>{(async()=>{try{y(!0);const e=await fetch("http://graph.soppiya.biz/data",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({query:"query Get_languages {\n  get_languages {\n    _id\n    name\n    native_name\n  }\n}",variables:{},operationName:"Get_languages"})}),{data:{get_languages:a}}=await e.json();y(!1),h(a)}catch(e){return e}})()}),[]),n((()=>{d&&b(d)}),[d]),t.createElement("div",{className:l.wrapper},r&&t.createElement("div",{className:l.label_action_wrapper},r&&t.createElement("label",{className:a(l.label_text),htmlFor:o},r)),t.createElement("div",{className:a(l.select_field_wrapper,l[c+"_select"])},v?t.createElement("div",{className:a(l.select_field,l.spinner_center,l[c+"_select"])},t.createElement(e,{size:"xsm",color:_})):t.createElement("select",{className:a(l.select_field,m&&m.status&&l.error_style,l.prefix_icon_padding),disabled:i,value:E,onChange:e=>{const{value:a}=e.target;b(a),"function"==typeof u&&u(a)},onBlur:g,onFocus:f},N.map((e=>t.createElement("option",{key:e._id,value:e._id},`${e.name} - ${e.native_name}`))))),p&&t.createElement("p",{className:l.help_text},p),m&&m.status&&t.createElement("p",{className:l.error_text}," ",m.message," "))};export{r as default};
//# sourceMappingURL=SelectLanguage.js.map
